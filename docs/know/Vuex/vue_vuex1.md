--- 
title: 利用VueX管理全局数据（一）
date: 2022-03-12 09:40:05
author: 'Mr.Lan'
sidebar: 'auto'
categories: 
 - 前端
tags: 
 - vue
 - vuex
publish: true
# autoGroup-2: 知识点
# autoPrev: 
---

第一篇 了解什么是状态管理，为什么要使用vuex来实现
<!-- more -->

## **1. 什么是'状态管理'**

`Vue.js`通过vuex对应用整体进行组件之间的状态管理

即管理的数据改变，产生状态改变，状态改变影响对此状态有需求的多个视图（多个组件）

::: tip
这里只做简单描述，具体细节可直接前往[vuex官网](https://vuex.vuejs.org/zh/)
:::

## 1.1 单向数据流

在Vue.js 应用程序中：

数据改变形成状态改变 → 状态改变影响视图 → 用户操控视图改变数据

以此形成“单向数据流”理念，如下图

<img src='https://vuex.vuejs.org/flow.png' style="height:310px;width:450px" alt="单向数据流.png">

## 1.2 单向数据流管理状态的弊端

单向数据流在单组件中拥有很好的逻辑方式，即便是父子组件或是个别跨组件管理也很方便

但是：

+ 一旦视图之间的逻辑关系复杂
+ 数据改变没有之前单一，存在多个视图影响数据

状态管理就会逐渐变得繁琐，尤其是兄弟组件，未加载的组件传递状态就变得复杂

## 1.3 将状态管理抽离

过于复杂的状态管理：

+ 繁琐的改变数据方式
+ 多个视图组件受影响

完全可以把组件的共享状态抽取出来，以一个全局单例模式管理，类似与事件总线。

只不过比起事件总线要能够拥有更简单的响应方式进行状态与视图的双向触发。

在这种模式下，我们的组件树构成了一个巨大的“视图”，不管在树的哪个位置，任何组件都能获取状态或者触发行为！

<img src="https://vuex.vuejs.org/vuex.png" alt="vuex">

vuex形成一个中心，为各个组件提供获取参数、改变参数、监听变化等基本能力

## **2. VueX运用场景**

vuex在没有合理利用的情况下是繁琐冗余的，在应用过于简单的情况下不建议使用

使用场景：

+ 大型单页面应用
+ 权限框架应用
+ 过多的页面通讯等等...

vuex能够在组件之外更好的管理大家（组件）都需要的数据，当您考虑到这一点就是需要使用的时候