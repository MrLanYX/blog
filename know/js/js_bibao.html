<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js的闭包形成与利用 | 摸鱼的后花园</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" type="image/svg+xml" href="/blog/img/logo.svg">
    <link rel="stylesheet" href="/blog/css/index.css">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/blog/js/MouseClickEffect.js"></script>
    <meta name="description" content="合抱之木，生于毫末；九层之台，起于累土.">
    <link rel="preload" href="/blog/assets/css/0.styles.7af90891.css" as="style"><link rel="preload" href="/blog/assets/js/app.78f81e7a.js" as="script"><link rel="preload" href="/blog/assets/js/3.38d2f822.js" as="script"><link rel="preload" href="/blog/assets/js/1.1b68369d.js" as="script"><link rel="preload" href="/blog/assets/js/20.3d0e7b2d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.7832edef.js"><link rel="prefetch" href="/blog/assets/js/11.58eb5eb0.js"><link rel="prefetch" href="/blog/assets/js/12.1df1f3d7.js"><link rel="prefetch" href="/blog/assets/js/13.eb87a138.js"><link rel="prefetch" href="/blog/assets/js/14.7cc5c138.js"><link rel="prefetch" href="/blog/assets/js/15.62fa7539.js"><link rel="prefetch" href="/blog/assets/js/16.f8e020fc.js"><link rel="prefetch" href="/blog/assets/js/17.4a1a218f.js"><link rel="prefetch" href="/blog/assets/js/18.1d8663f4.js"><link rel="prefetch" href="/blog/assets/js/19.0c9af6f2.js"><link rel="prefetch" href="/blog/assets/js/21.6490156b.js"><link rel="prefetch" href="/blog/assets/js/22.1cb4ae1b.js"><link rel="prefetch" href="/blog/assets/js/23.8f23a6d4.js"><link rel="prefetch" href="/blog/assets/js/24.95cf067b.js"><link rel="prefetch" href="/blog/assets/js/25.124623a8.js"><link rel="prefetch" href="/blog/assets/js/26.07ef7596.js"><link rel="prefetch" href="/blog/assets/js/27.c1264626.js"><link rel="prefetch" href="/blog/assets/js/28.721ba440.js"><link rel="prefetch" href="/blog/assets/js/29.e000fe99.js"><link rel="prefetch" href="/blog/assets/js/30.9c61f5e3.js"><link rel="prefetch" href="/blog/assets/js/31.2a95135e.js"><link rel="prefetch" href="/blog/assets/js/32.e5f66600.js"><link rel="prefetch" href="/blog/assets/js/33.c8aaaeb0.js"><link rel="prefetch" href="/blog/assets/js/34.75e3ef45.js"><link rel="prefetch" href="/blog/assets/js/35.709b349a.js"><link rel="prefetch" href="/blog/assets/js/36.242091fe.js"><link rel="prefetch" href="/blog/assets/js/37.b52a1a34.js"><link rel="prefetch" href="/blog/assets/js/38.4e9f9d56.js"><link rel="prefetch" href="/blog/assets/js/39.595fd0d2.js"><link rel="prefetch" href="/blog/assets/js/4.7bdae03e.js"><link rel="prefetch" href="/blog/assets/js/40.1f84a9f6.js"><link rel="prefetch" href="/blog/assets/js/41.b4bcea6b.js"><link rel="prefetch" href="/blog/assets/js/42.b80e42d9.js"><link rel="prefetch" href="/blog/assets/js/43.a051baa5.js"><link rel="prefetch" href="/blog/assets/js/44.fc20748b.js"><link rel="prefetch" href="/blog/assets/js/45.668fda2f.js"><link rel="prefetch" href="/blog/assets/js/46.06684b64.js"><link rel="prefetch" href="/blog/assets/js/47.664a33fa.js"><link rel="prefetch" href="/blog/assets/js/48.bc2ee7fd.js"><link rel="prefetch" href="/blog/assets/js/49.8ad35c37.js"><link rel="prefetch" href="/blog/assets/js/5.3a8934c9.js"><link rel="prefetch" href="/blog/assets/js/50.c3f05914.js"><link rel="prefetch" href="/blog/assets/js/51.e5b4e7f6.js"><link rel="prefetch" href="/blog/assets/js/52.9bdf625f.js"><link rel="prefetch" href="/blog/assets/js/53.62af1035.js"><link rel="prefetch" href="/blog/assets/js/54.6396cce1.js"><link rel="prefetch" href="/blog/assets/js/55.c6bdc3ba.js"><link rel="prefetch" href="/blog/assets/js/56.1450a7b9.js"><link rel="prefetch" href="/blog/assets/js/57.8623de03.js"><link rel="prefetch" href="/blog/assets/js/58.74c0d94a.js"><link rel="prefetch" href="/blog/assets/js/59.15e0daec.js"><link rel="prefetch" href="/blog/assets/js/6.54cb3162.js"><link rel="prefetch" href="/blog/assets/js/60.175ccb02.js"><link rel="prefetch" href="/blog/assets/js/61.db06922e.js"><link rel="prefetch" href="/blog/assets/js/62.7f9f3451.js"><link rel="prefetch" href="/blog/assets/js/63.a4686b0e.js"><link rel="prefetch" href="/blog/assets/js/64.2802cc63.js"><link rel="prefetch" href="/blog/assets/js/65.d509d400.js"><link rel="prefetch" href="/blog/assets/js/66.594c7579.js"><link rel="prefetch" href="/blog/assets/js/67.f2fa73f5.js"><link rel="prefetch" href="/blog/assets/js/68.324d36f8.js"><link rel="prefetch" href="/blog/assets/js/69.e0156cad.js"><link rel="prefetch" href="/blog/assets/js/7.139bda6f.js"><link rel="prefetch" href="/blog/assets/js/70.59512b29.js"><link rel="prefetch" href="/blog/assets/js/71.0a725b6b.js"><link rel="prefetch" href="/blog/assets/js/72.7929a4b5.js"><link rel="prefetch" href="/blog/assets/js/73.89d4b4ea.js"><link rel="prefetch" href="/blog/assets/js/74.050a85b8.js"><link rel="prefetch" href="/blog/assets/js/75.ba453178.js"><link rel="prefetch" href="/blog/assets/js/76.7753a476.js"><link rel="prefetch" href="/blog/assets/js/77.8a31ea0a.js"><link rel="prefetch" href="/blog/assets/js/78.04015a8f.js"><link rel="prefetch" href="/blog/assets/js/79.2c64fa10.js"><link rel="prefetch" href="/blog/assets/js/8.1e6f4129.js"><link rel="prefetch" href="/blog/assets/js/80.5f75dc2b.js"><link rel="prefetch" href="/blog/assets/js/81.cfda4e7d.js"><link rel="prefetch" href="/blog/assets/js/82.afbf3f5f.js"><link rel="prefetch" href="/blog/assets/js/83.b3cbadc4.js"><link rel="prefetch" href="/blog/assets/js/84.a4f30c19.js"><link rel="prefetch" href="/blog/assets/js/85.04550df1.js"><link rel="prefetch" href="/blog/assets/js/86.119ad677.js"><link rel="prefetch" href="/blog/assets/js/87.f156e5b7.js"><link rel="prefetch" href="/blog/assets/js/88.11af4c86.js"><link rel="prefetch" href="/blog/assets/js/89.1ca92e9c.js"><link rel="prefetch" href="/blog/assets/js/9.fa458fb2.js"><link rel="prefetch" href="/blog/assets/js/90.d06b1507.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7af90891.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-0ecec4a0><div data-v-0ecec4a0><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-0ecec4a0 data-v-0ecec4a0><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-0ecec4a0 data-v-0ecec4a0><h3 class="title" data-v-4e82dffc data-v-4e82dffc>摸鱼的后花园</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>合抱之木，生于毫末；九层之台，起于累土.</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mr.Lan</span>
            
          <span data-v-4e82dffc>2021 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-0ecec4a0><header class="navbar" data-v-0ecec4a0><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">摸鱼的后花园</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/硬件/" class="nav-link"><i class="undefined"></i>
  硬件
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/网络/" class="nav-link"><i class="undefined"></i>
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/设计/" class="nav-link"><i class="undefined"></i>
  设计
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      知识点
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/know/js/js_bibao.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/css/css_flex.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/nodejs/nodejs_01.html" class="nav-link"><i class="undefined"></i>
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/vue/vue_upload.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/Vuex/vue_vuex1.html" class="nav-link"><i class="undefined"></i>
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/linux/command.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/git/cmd.html" class="nav-link"><i class="undefined"></i>
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-gitlab"></i>
      专题指南
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/blog/vuepress_start.html" class="nav-link"><i class="undefined"></i>
  搭建博客
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/server/server_0.html" class="nav-link"><i class="undefined"></i>
  搭建服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      旁门左道
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/favorites/asciiPainting.html" class="nav-link"><i class="undefined"></i>
  网页收藏夹
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/N1.html" class="nav-link"><i class="undefined"></i>
  斐讯N1盒子
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/esp32cam.html" class="nav-link"><i class="undefined"></i>
  ESP32-CAM
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/cm211.html" class="nav-link"><i class="undefined"></i>
  移动电视盒cm211-1
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/winhello.html" class="nav-link"><i class="undefined"></i>
  windows人脸识别
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/SlimeVR_MPU-6050.html" class="nav-link"><i class="undefined"></i>
  SlimeVR全身追踪模块
</a></li></ul></div></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/aboutMe.html" class="nav-link"><i class="undefined"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/blog/about/resuMe.html" class="nav-link"><i class="undefined"></i>
  简历
</a></li><li class="dropdown-item"><!----> <a href="https://mrlanyx.github.io/Tetris" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JS版俄罗斯方块
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrLanYX" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-0ecec4a0></div> <aside class="sidebar" data-v-0ecec4a0><div class="personal-info-wrapper" data-v-828910c6 data-v-0ecec4a0><img src="/blog/img/head.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Mr.Lan
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>73</h3> <h6 data-v-828910c6>文章</h6></div> <div data-v-828910c6><h3 data-v-828910c6>84</h3> <h6 data-v-828910c6>标签</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/硬件/" class="nav-link"><i class="undefined"></i>
  硬件
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/网络/" class="nav-link"><i class="undefined"></i>
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/设计/" class="nav-link"><i class="undefined"></i>
  设计
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      知识点
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/know/js/js_bibao.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/css/css_flex.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/nodejs/nodejs_01.html" class="nav-link"><i class="undefined"></i>
  nodejs
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/vue/vue_upload.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/Vuex/vue_vuex1.html" class="nav-link"><i class="undefined"></i>
  Vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/linux/command.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/know/git/cmd.html" class="nav-link"><i class="undefined"></i>
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-gitlab"></i>
      专题指南
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/blog/vuepress_start.html" class="nav-link"><i class="undefined"></i>
  搭建博客
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/server/server_0.html" class="nav-link"><i class="undefined"></i>
  搭建服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      旁门左道
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/other/favorites/asciiPainting.html" class="nav-link"><i class="undefined"></i>
  网页收藏夹
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/N1.html" class="nav-link"><i class="undefined"></i>
  斐讯N1盒子
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/esp32cam.html" class="nav-link"><i class="undefined"></i>
  ESP32-CAM
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/cm211.html" class="nav-link"><i class="undefined"></i>
  移动电视盒cm211-1
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/winhello.html" class="nav-link"><i class="undefined"></i>
  windows人脸识别
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/toy/SlimeVR_MPU-6050.html" class="nav-link"><i class="undefined"></i>
  SlimeVR全身追踪模块
</a></li></ul></div></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/aboutMe.html" class="nav-link"><i class="undefined"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/blog/about/resuMe.html" class="nav-link"><i class="undefined"></i>
  简历
</a></li><li class="dropdown-item"><!----> <a href="https://mrlanyx.github.io/Tetris" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JS版俄罗斯方块
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrLanYX" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/know/js/fang_dou.html" class="sidebar-link">js为频繁操作设置间隔_防抖函数</a></li><li><a href="/blog/know/js/jie_liu.html" class="sidebar-link">js为频繁操作设置间隔循环触发_节流函数</a></li><li><a href="/blog/know/js/xiao_hui.html" class="sidebar-link">js作用域的销毁</a></li><li><a href="/blog/know/js/wei_di_gui.html" class="sidebar-link">尾递归优化调用栈溢出</a></li><li><a href="/blog/know/js/try_catch_finally.html" class="sidebar-link">js中try/catch/finally错误异常捕获</a></li><li><a href="/blog/know/js/treehandle.html" class="sidebar-link">JS树结构操作</a></li><li><a href="/blog/know/js/timezhuan_huan.html" class="sidebar-link">js处理时间(时间戳转化成日期格式、几分钟前，几个小时前等、视频时长)</a></li><li><a href="/blog/know/js/this.html" class="sidebar-link">JavaScript中 this 指向详细解析（对象、构造器篇）</a></li><li><a href="/blog/know/js/this2.html" class="sidebar-link">JavaScript中 this 指向详细解析（后续）</a></li><li><a href="/blog/know/js/new_prototype_fun.html" class="sidebar-link">构造函数，对象原型，实例对象三者之间的关系</a></li><li><a href="/blog/know/js/prototypelian.html" class="sidebar-link">利用原型链实现js继承</a></li><li><a href="/blog/know/js/js_hasownproperty.html" class="sidebar-link">js中的hasOwnProperty</a></li><li><a href="/blog/know/js/js_eventliseteners.html" class="sidebar-link">js监听事件集合</a></li><li><a href="/blog/know/js/js_bibao.html" aria-current="page" class="active sidebar-link">js的闭包形成与利用</a></li><li><a href="/blog/know/js/js_address.html" class="sidebar-link">js中数据的地址引用</a></li><li><a href="/blog/know/js/lodash.html" class="sidebar-link">Lodash中对象合并方法assign、merge、defaults、defaultsDeep</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-0ecec4a0><h3 class="title" data-v-4e82dffc data-v-4e82dffc>js的闭包形成与利用</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Mr.Lan</span>
            
          <span data-v-4e82dffc>2021 - </span>
          2022
        </a></span></div></div> <div data-v-0ecec4a0><main class="page"><section><div class="page-title"><h1 class="title">js的闭包形成与利用</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Mr.Lan</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>2021/7/3</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>js</span><span class="tag-item" data-v-1ff7123e>闭包</span><span class="tag-item" data-v-1ff7123e>作用域</span><span class="tag-item" data-v-1ff7123e>销毁</span></i></div></div> <div class="theme-reco-content content__default"><blockquote><p>由于<a href="/blog/know/js/js_address.html">js地址引用</a>文章而顺带记录js中的闭包原理
</p></blockquote> <h2 id="_1-闭包概念"><a href="#_1-闭包概念" class="header-anchor">#</a> <strong>1. 闭包概念</strong></h2> <ul><li>它是一种保护机制，保护里边的变量不受外界的影响</li> <li>函数执行，形成一个私有作用域，这个私有作用域就是闭包</li> <li>不销毁的私有作用域才是闭包</li> <li>能够带来私有作用域的好处，也能产生堆垃圾</li></ul> <h2 id="_2-闭包形成"><a href="#_2-闭包形成" class="header-anchor">#</a> <strong>2. 闭包形成</strong></h2> <ul><li>一个函数执行时，内部定义的变量在普遍情况下会在结束函数后销毁</li> <li>但是如果在函数内部中出现了栈的引用，函数执行的步骤就不能被销毁</li> <li>函数销毁会导致栈中的引用丢失，可参考<a href="/blog/know/js/xiao_hui.html">文章销毁</a></li> <li>通俗点就是函数套函数，就能形成闭包（不完全是）</li></ul> <p>例如：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">1</span>
    <span class="token function-variable function">fun</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> b<span class="token operator">=</span><span class="token number">1</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>a<span class="token punctuation">,</span><span class="token operator">++</span>b<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在以上方法<code>fun()</code>中，如果没有<code>fun()</code>的重新引用，正常执行每次变量<code>a</code>会重新销毁再申明
<img src="data:image/png;base64,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" alt="avatar"></p> <ul><li>但是在函数内部对本身进行重新引用至新的堆地址，将本身重定义</li> <li>在函数的第一次执行之后本身就被指向原方法地址中的一个新地址</li> <li>由此就导致原方法中的<code>a</code>变量没被销毁，并且能够被新的<code>fun()</code>向上查找找到</li> <li>并且变量<code>a</code>又不会污染外部参数，<code>a</code>就成为了<code>fun()</code>的私有变量
<img src="data:image/png;base64,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" alt="avatar"></li></ul> <p>闭包的形成方式不一定要对自身重新定义</p> <p>返回值的方式一样可行，但为了防止销毁需要栈中变量引用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> a<span class="token operator">=</span><span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> b<span class="token operator">=</span><span class="token number">1</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>a<span class="token punctuation">,</span><span class="token operator">++</span>b<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fun2<span class="token operator">=</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>执行<code>fun2()</code>与原先的<code>fun()</code>是一致的效果</p> <h2 id="_3-作用域销毁问题"><a href="#_3-作用域销毁问题" class="header-anchor">#</a> <strong>3. 作用域销毁问题</strong></h2> <h3 id="栈内存销毁"><a href="#栈内存销毁" class="header-anchor">#</a> 栈内存销毁</h3> <p>销毁，当这个作用域没有用处时，就销毁；没有用：跟外界没有任何关系了，就是外部不调用栈内存里面代码，变量时，栈内存销毁；</p> <h3 id="私有作用域销毁"><a href="#私有作用域销毁" class="header-anchor">#</a> 私有作用域销毁</h3> <p>函数执行完成之后，看这个作用域是否还有用处，别的地方是否调用私有作用域里面的代码，变量，没有用就直接销毁</p> <h3 id="全局作用域销毁"><a href="#全局作用域销毁" class="header-anchor">#</a> 全局作用域销毁</h3> <p>只有在关闭页面的时候销毁</p> <h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="header-anchor">#</a> 垃圾回收机制</h3> <p>谷歌 采用 计时查询的方式， 定期查询一遍，把没有被占用的堆内存销毁
IE和火狐 采用 计数的方式； 当有一个变量占用这个地址时 我就计数加一；当有有一个变量不再占用这个堆内存，我就计数减一</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/7/20 01:54:03</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/know/js/js_eventliseteners.html" class="prev">
            js监听事件集合
          </a></span> <span class="next"><a href="/blog/know/js/js_address.html">
            js中数据的地址引用
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/blog/know/js/js_bibao.html#_1-闭包概念" class="sidebar-link reco-side-_1-闭包概念" data-v-70334359>1. 闭包概念</a></li><li class="level-2" data-v-70334359><a href="/blog/know/js/js_bibao.html#_2-闭包形成" class="sidebar-link reco-side-_2-闭包形成" data-v-70334359>2. 闭包形成</a></li><li class="level-2" data-v-70334359><a href="/blog/know/js/js_bibao.html#_3-作用域销毁问题" class="sidebar-link reco-side-_3-作用域销毁问题" data-v-70334359>3. 作用域销毁问题</a></li><li class="level-3" data-v-70334359><a href="/blog/know/js/js_bibao.html#栈内存销毁" class="sidebar-link reco-side-栈内存销毁" data-v-70334359>栈内存销毁</a></li><li class="level-3" data-v-70334359><a href="/blog/know/js/js_bibao.html#私有作用域销毁" class="sidebar-link reco-side-私有作用域销毁" data-v-70334359>私有作用域销毁</a></li><li class="level-3" data-v-70334359><a href="/blog/know/js/js_bibao.html#全局作用域销毁" class="sidebar-link reco-side-全局作用域销毁" data-v-70334359>全局作用域销毁</a></li><li class="level-3" data-v-70334359><a href="/blog/know/js/js_bibao.html#垃圾回收机制" class="sidebar-link reco-side-垃圾回收机制" data-v-70334359>垃圾回收机制</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      我是Mr.Lan欢迎你的关注 
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://m804.music.126.net/20220511152652/61f179ad242fa15fc3b19078f83d66ee/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/14162454760/9c65/f746/e448/74ac330cd0d3aa0a45971a99da3b7372.m4a" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="http://p2.music.126.net/YT6IU71FJRs0uzgUZABexQ==/109951167355147080.jpg?param=130y130" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(http://p2.music.126.net/YT6IU71FJRs0uzgUZABexQ==/109951167355147080.jpg?param=130y130);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>玫瑰少年（小提琴版）</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>Strictlyviolin荀博/王朝</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><div class="Sakura" data-v-017cf06a><canvas id="canvas_sakura" style="z-index:-1;" data-v-017cf06a></canvas></div><div></div></div></div>
    <script src="/blog/assets/js/app.78f81e7a.js" defer></script><script src="/blog/assets/js/3.38d2f822.js" defer></script><script src="/blog/assets/js/1.1b68369d.js" defer></script><script src="/blog/assets/js/20.3d0e7b2d.js" defer></script>
  </body>
</html>
